function import$(t,e){var r={}.hasOwnProperty;for(var l in e)r.call(e,l)&&(t[l]=e[l]);return t}var cancelAll,ldColorPicker,i;cancelAll=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1},ldColorPicker=import$(function(t,e){var r,l,o,i=this;return null==e&&(e=null),this.node=t,this.target=e,this.idx=0,r="<div class='ldcp-2d'><div class='ldcp-ptr'></div><div class='ldcp-mask'></div></div>",l="<div class='ldcp-1d'><div></div><div></div><div class='ldcp-bar'></div><div class='ldcp-mask'></div></div>",o="<div class='ldcp-colors'><div class='ldcp-color'></div><div class='ldcp-color'></div><div class='ldcp-color'></div><div class='ldcp-color'></div><div class='ldcp-color'></div><div class='ldcp-color'></div><div class='ldcp-color'></div></div>",t.innerHTML=r+l+o,t.querySelector(".ldcp-2d .ldcp-mask").addEventListener("mousedown",function(){return ldColorPicker.mouse.start(i,2)}),t.querySelector(".ldcp-1d .ldcp-mask").addEventListener("mousedown",function(){return ldColorPicker.mouse.start(i,1)}),setTimeout(function(){var e;return i.P2D={ptr:t.querySelector(".ldcp-ptr")},i.P1D={ptr:t.querySelector(".ldcp-bar")},i.updateDimension(),i.width=t.offsetWidth,i.height=t.offsetHeight,i.color={nodes:t.querySelectorAll(".ldcp-color"),vals:ldColorPicker.palette.getVal(i)},e=i.color.vals[i.idx],i.setHsl(e.hue,e.sat,e.lit)},0),this},{dom:null,palette:{members:[],getVal:function(t){return t&&this.members.push(t),this.val},update:function(){var t,e,r,l,o=[];for(t=0,r=(e=this.members).length;r>t;++t)l=e[t],o.push(l.updatePalette());return o},val:function(){var t,e=[];for(t=0;7>t;++t)i=t,e.push({hue:parseInt(360*Math.random()),sat:50,lit:50});return e}()},mouse:{start:function(t,e){var r;return r=[["selectstart",function(t){return cancelAll(t)}],["mousemove",function(r){return t.move(r,e)}],["mouseup",function(){return r.map(function(t){return document.removeEventListener(t[0],t[1])})}]],r.map(function(t){return document.addEventListener(t[0],t[1])})}},init:function(t,e){var r,l,o,i=[];if(null==e&&(e=null),t)return t._ldcp=new ldColorPicker(t,e);for(r=document.querySelectorAll(".ldColorPicker"),l=0,o=r.length;o>l;++l)t=r[l],i.push(t._ldcp=new ldColorPicker(t));return i},prototype:{updateDimension:function(){var t,e,r;return t=[this.node.querySelector(".ldcp-2d"),this.node.querySelector(".ldcp-2d")],e=t[0],r=t[1],t=this.P2D,t.w=e.offsetWidth,t.h=e.offsetHeight,t=this.P1D,t.w=r.offsetWidth,t.h=r.offsetHeight,t},toggle:function(){var t;return"block"===this.node.style.display?this.node.style.display="none":(this.node.style.display="block",this.updateDimension(),this.palette.splice(7),this.color.vals.splice(0,0,this.random()),t=this.color.vals[this.idx],this.setHsl(t.hue,t.sat,t.lit),ldColorPicker.palette.update())},random:function(){return{hue:360*Math.random(),sat:50,lit:50}},updatePalette:function(){var t,e,r,l=[];for(t=0,e=this.color.nodes.length;e>t;++t)r=t,l.push(this.updateColor(r));return l},updateColor:function(t){var e;return e=this.color.vals[t],this.color.nodes[t].style.background="hsl("+(e.hue||0)+","+(e.sat||0)+"%,"+(e.lit||0)+"%)"},toRgb:function(t){var e,r,l,o,i,s,n;return e=(1-Math.abs(2*t.lit/100-1))*t.sat/100,r=e*(1-Math.abs(t.hue/60%2-1)),l=t.lit/100-e/2,o=function(){switch(parseInt(t.hue/60)){case 0:return[e,r,0];case 1:return[r,e,0];case 2:return[0,e,r];case 3:return[0,r,e];case 4:return[r,0,e];case 5:return[e,0,r];case 6:return[e,r,0]}}(),i=o[0],s=o[1],n=o[2],o=[i+l,s+l,n+l],i=o[0],s=o[1],n=o[2],o},hex:function(t){var e,r;return t=(e=(r=parseInt(255*t))>0?r:0)<255?e:255,t=t.toString(16),t.length<2?"0"+t:t},toHexString:function(t){var e,r,l,o;return e=this.toRgb(t),r=e[0],l=e[1],o=e[2],"#"+this.hex(r)+this.hex(l)+this.hex(o)},setHsl:function(t,e,r,l){var o,i,s,n;return null==l&&(l=!1),o=this.color.vals[this.idx],o.hue=t,o.sat=e,o.lit=r,this.target&&(this.target.value=this.toHexString(this.color.vals[this.idx])),l?void 0:(i=(this.P2D.w*t/360+.02*this.P2D.w)/1.04,s=(this.P2D.h*(100-e)/100+.02*this.P2D.h)/1.04,n=(this.P1D.h*(100-r)/100+.02*this.P1D.h)/1.04,this.setPos(2,i,s,!0),this.setPos(1,i,n,!0),this.updateColor(0))},setPos:function(t,e,r,l){var o,i,s,n,a,c,d,u,h;return null==l&&(l=!1),o=2===t?this.P2D:this.P1D,e=(i=e>0?e:0)<(s=o.w)?i:s,r=(i=r>0?r:0)<(s=o.h)?i:s,o.ptr.style.top=r+"px",2===t&&(o.ptr.style.left=e+"px"),l?void 0:(i=[1.04*e-.02*o.w,1.04*r-.02*o.h],n=i[0],a=i[1],n=(i=(s=100*n/o.w)>0?s:0)<100?i:100,a=(i=(s=100*a/o.h)>0?s:0)<100?i:100,c=this.color.vals[this.idx],d=2===t?3.6*n:c.hue,u=2===t?100-a:c.sat,h=1===t?100-a:c.lit,this.setHsl(d,u,h,!0),this.updateColor(0))},move:function(t,e){var r,l,o,i;if(t.buttons)return r=this.node.getBoundingClientRect(),l=[t.clientY-r.top,t.clientX-r.left],o=l[0],i=l[1],this.setPos(e,i,o),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1},palette:[],add:function(t){var e,r,l,o,i,s,n,a=[];for(e=t.parentNode.parentNode,this.palette.push({hue:e.hue,sat:e.sat,lit:e.lit}),this.palette.length>7&&this.palette.splice(7),r=t.parentNode.querySelectorAll(".ldcp-color"),l=0,o=r.length;o>l&&(i=l,s=r[i],n=this.palette[i],n);++l)a.push(s.style.background="hsl("+(n.hue||0)+","+(n.sat||0)+"%,"+(n.lit||0)+"%)");return a}}}),$(document).ready(function(){function t(){return this._ldcpnode._ldcp.toggle()}var e,r,l,o,i,s,n,a,c=[];for(ldColorPicker.init(),e=document.querySelectorAll("*[data-toggle='colorpicker']"),r=0,l=e.length;l>r;++r)o=e[r],o._ldcpnode=i=document.createElement("div"),i.setAttribute("class","ldColorPicker "+o.getAttribute("data-cpclass")+" bottom bubble"),ldColorPicker.init(i,o),document.body.appendChild(i),s=o.offsetTop+o.offsetHeight+10+"px",n=o.offsetLeft+(o.offsetWidth-i.offsetWidth)/2+"px",a=i.style,a.position="absolute",a.display="none",a.top=s,a.left=n,c.push(o.addEventListener("click",t));return c});