@import '../vars'
@import '../basic'

.ldColorPicker
  line-height: 1.428571429

.ldColorPicker 
  *, *:before, *:after
    -moz-box-sizing: border-box
    -webkit-box-sizing: border-box
    box-sizing: border-box


.ldColorPicker
  display: inline-block
  position: relative
  width: 160px
  height: 100px

.ldcp-panel
  position: relative
  display: block
  padding: 5px
  background: #fff
  width: 100%
  height: 100%

.ldcp-chooser
  position: absolute
  top: 0
  left: 0
  height: 0
  padding: 0
  z-index: 4
  transition(height 0.5s ease-in-out)
  width: 98%
  margin: 0.5% 1%
  overflow: hidden
  font-size: 12px
  span
    display: block
    text-align: center
    padding: 3px
    margin-top: 5px
    font-family: calibri, Arial, sans-serif
  input
    width: 90%
    margin: 0 5% 5px
    border-radius: 3px
    border: 1px solid #ccc
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.1)
  .ldcp-chooser-btnset
    text-align: center
    font-family: calibri, Arial, sans-serif


.ldcp-picker
  z-index: 1
  .ldcp-ptr, .ldcp-bar
    position: absolute
    background: none
    z-index: 3
  .ldcp-ptr
    border-radius: 50%
    width: 10px
    height: 10px
    margin: -5px 0 0 -5px
    border: 2px solid #bbb
  .ldcp-bar
    border-radius: 3px
    height: 0
    width: 20%
    margin: -5px 0 0 -2.5px
    border-style: solid
    border-color: transparent transparent transparent #000
    border-width: 5px 0 5px 5px
  .ldcp-mask
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    cursor: move
  .ldcp-2d
    position: relative
    width: 80%
    height: 70%
    background: #eee
    display: inline-block
    cursor: move
    .ldcp-mask
      z-index: 2
    img
      position: absolute
      z-index: 1
      top: 0
      left: 0
      width: 100%
      height: 100%
  .ldcp-1d
    position: relative
    width: 20%
    height: 70%
    display: inline-block
    padding-left: 5px
    cursor: row-resize
    overflow: hidden
    .ldcp-mask
      z-index: 2
    img
      position: absolute
      z-index: 1
      top: 0
      left: 5px
      width: 100%
      height: 100%
    & > div:nth-of-type(1)
      height: 100%
      width: 100%
      background: #eee
    & > .ldcp-mask
      left: 5px

.ldColorPicker
  .ldcp-picker
    border: 1px solid #ccc
  &.noborder .ldcp-picker
    border: 1px transparent
  &.shadow .ldcp-picker
    box-shadow: 0 1px 3px rgba(0,0,0,0.2)
  &.round .ldcp-picker
    border-radius: 3px
  &.bubble .ldcp-picker:after
    content: " "
    display: block
    position: absolute
    width: 0
    height: 0
    border-width: 10px
    border-style: solid
  &.top.bubble .ldcp-picker:after
    border-color: #ccc transparent transparent transparent
    bottom: -20px
    left: 10px
    top: auto
    right: auto
  &.right.bubble .ldcp-picker:after
    border-color: transparent #ccc transparent transparent
    top: 10px
    left: -20px
    right: auto
    bottom: auto
  &.left.bubble .ldcp-picker:after
    border-color: transparent transparent transparent #ccc 
    top: 10px
    right: -20px
    bottom: auto
    left: auto
  &.bottom.bubble .ldcp-picker:after, &.bubble .ldcp-picker:after
    border-color: transparent transparent #ccc transparent 
    top: -20px
    left: 10px

.ldcp-picker
  no-selection()
  .ldcp-colors
    position: relative
    height: 16%
    line-height: 20%
    padding-bottom: 3px
    flexbox()
    flex-wrap(wrap)
  .ldcp-color
    height: 100%
    background: #eee
    margin-right: 2px
    display: inline-block
    flex(1 1)
    text-align: center
    line-height: 100%
    vertical-align: middle
    cursor: pointer
  .ldcp-color:first-of-type
    margin-left: 0
  .ldcp-color:last-of-type
    margin-right: 0
  .ldcp-functions
    height: 14px
    background: #fff
    width: 100%
    font-size: 12px
    font-family: calibri
    text-align: right
    //background: #eee
    .ldcp-btn
      display: inline-block
      width: 30px
      height: 14px
      text-align: center
      cursor: pointer
      border-left: 3px solid #fff
      padding: 0 5px
      &:after
        display: inline-block
        content: " "
        width: 14px
        height: 14px
        background-image: unquote('url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAOCAYAAAB6pd+uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAetJREFUeNrclj1LA0EQht1DbUT8KPyoFAMWfhSBBIOktBJJY+Ff0E4tRBtjLEQUUQtFrf0FARELSzslWIgItooKKSREgiR3vnvM6mS93CWSEJOBh8zu5nZ3bt6dW2FZVkM9W2Mtbdbv9/PmAtgF3eCeWAcX6g+JROInwGg0yh/W0yqUE4vFyrJZrGevEY/H8/qxKYPGTVpPaI8OgTPQDwbBJ+gA4+AVtFLQj64ZVAtHIpGKZaRAcC3IVMpl7QfQTP6sNrYMQqAN9IKMUS25sRcoEJjQg6Ps6fsLUaauqP0OtsEWSIIZ0AfawZKeQbdqYznJlUvNyxykxiVvjwUDwRTPppxbOxKnwEf+CwiAJ2rvgFvQAw4p6HyJ6pLR+wrJ1ek5bh4yt4MLh8NmNpflUrUwr6W9GB/zj1hw0t7AHtikczkMbox/Uh3NdDqdV2TQ56SMSXBCvukwnqPfeXD9K4P8TZdSZMpViFRwLsflHEyQPweOKXPSOikwZUk9QFHMZ6LYs/XHwLxqwQpYJF9WyTs6b6qidsncsL7qfehl1qVKpDxLUMY+VccMVdJpsKorHlwC+0AbbpNX8hvoJe0CYx9gDIyCDdZ/QHKV1gRGvqVXS3dR7ao2BdbAAAX0TPLdV8VGXtVEvV+2vwQYAPxCrAsxVgb/AAAAAElFTkSuQmCC)')
        background-repeat: no-repeat
        background-position: 0 0
      &:nth-of-type(2):after
        background-position: -14px 0
      &:nth-of-type(3):after
        background-position: -28px 0
      &:nth-of-type(4):after
        background-position: -42px 0

  /*.ldcp-colorptr
    content: " "
    display: block
    position: absolute
    width: 0
    height: 0
    bottom: 2px
    left: 16% 
    margin-left: -4px
    border-width: 5px 4px
    border-style: solid
    border-color: transparent transparent #000 transparent
  */
.ldColorPicker.palette-only
  height: 31px
  .ldcp-colors
    height: 22px
  .ldcp-2d, .ldcp-1d
    display: none
  .ldcp-functions
    display: none

.ldColorPicker.custom
  .ldcp-functions
    display: none
  .ldcp-1d
    width: 10%
  .ldcp-colors
    height: 19%
  .ldcp-2d, .ldcp-1d
    height: 80%
  .ldcp-2d .ldcp-mask
    box-shadow: inset 0 0 3px rgba(0,0,0,0.5)
  .ldcp-1d .ldcp-mask
    box-shadow: inset 0 0 3px rgba(0,0,0,0.5)
  .ldcp-picker .ldcp-ptr
    box-shadow: 0 0 3px 0px rgba(0,0,0,0.5), inset 0 0 0 1px rgba(0,0,0,0.5)
    border: 1px solid rgba(255,255,255,0.9)


gap = 5px
.ldcp-root
  padding: gap
  padding-bottom: 2 * gap // vp count * 5 + fixed amount
.ldcp-vp
  width: 100%
  margin-top: 2 * gap
  margin-bottom: -1 * gap
.ldcp-vp:first-of-type
  margin-top: 0
.ldcp-vp:last-of-type
  margin-bottom: -999 * gap
.ldcp-hp
  height: 100%
  display: inline-block
  vertical-align: top
  margin-left: 2 * gap
  margin-right: -1 * gap
.ldcp-vp .ldcp-hp:first-of-type
  margin-left: 0
.ldcp-vp .ldcp-hp:last-of-type
  margin-right: -999 * gap

.ldcp-root
  padding-bottom: 3 * gap + 19px + 20px
  //padding-bottom: 2 * gap + 19px
.ldcp-wg1
  height: 100%
  padding-right: 2 * gap
.ldcp-wg11
  width: 80%
  background: #f00
.ldcp-wg12, .ldcp-wg13
  width: 10%
  background: #f00
.ldcp-wg2
  height: 19px
.ldcp-wg21
  width: 100%


.ldcp-2dx
  position: relative
  background: #00f
  display: inline-block
  cursor: move
  border-radius: 2px
  .ldcp-mask
    z-index: 2
    box-shadow: inset 0 0 2px 1px rgba(0,0,0,0.2)
    border-radius: 2px
  img
    position: absolute
    z-index: 1
    top: 0
    left: 0
    width: 100%
    height: 100%
    border-radius: 2px


.ldcp-1dx
  position: relative
  display: inline-block
  cursor: row-resize
  .ldcp-mask
    z-index: 2
  .ldcp-bar
    width: 80%
    height: 4px
    background: #fff
    top: 20px
    left: 10%
    margin: 0
    border: 1px solid #999
    border-radius: 1px
  img
    position: absolute
    z-index: 1
    top: 0
    left: 0
    width: 100%
    height: 100%
    border-radius: 2px
  & > div:nth-of-type(1)
    height: 100%
    width: 100%
    background: #eee
  & > .ldcp-mask
    left: 0
    box-shadow: inset 0 0 2px 1px rgba(0,0,0,0.2)
    border-radius: 2px


.ldcp-colorsx
  position: relative
  flexbox()
  flex-wrap(wrap)
  .ldcp-color
    height: 100%
    background: #eee
    display: inline-block
    flex(1 1)
    text-align: center
    line-height: 100%
    vertical-align: middle
    cursor: pointer
    box-shadow: inset 0 0 1px 1px rgba(0,0,0,0.2)
    border-radius: 1px
    margin: 0 5px 0 0

  .ldcp-color:first-of-type
    margin-left: 0
  .ldcp-color:last-of-type
    margin-right: 0

.ldcp-cbtn
  font-family: courier new
  text-align: center
  border: 1px solid #ccc
  font-weight: bold
  font-size: 16px
  line-height: 18px
  color: #888
  display: block
  cursor: pointer
  width: 17px
  flex(0 0 17px)
  border-left-width: 0
.ldcp-colorsx span:first-of-type
  border-radius: 2px 0 0 2px
  width: 19px
  flex(0 0 19px)
  margin-left: gap
  border-left-width: 1px
.ldcp-colorsx span:last-of-type
  border-radius: 0 2px 2px 0

.ldcp-button
  min-width: 32px
  font-weight: bold
  height: 16px
  display: inline-block
  margin: 0 0 0 3px
  font-family: 'courier new'
  color: #888
  text-align: center
  line-height: 16px
  //-border: 1px solid #ccc
  border: 1px solid transparent
  cursor: pointer
  border-radius: 2px
  background: #fff
  vertical-align: top
  &:hover
    border: 1px solid #ccc

.ldcp-picker .ldcp-colorsx
  .ldcp-colorptr
    content: " "
    display: block
    position: absolute
    width: 0
    height: 0
    bottom: -3px
    left: 12px
    margin-left: 0px
    border-width: 8px 5px
    border-style: solid
    border-color: transparent transparent #000 transparent

/* no padding palette */
.ldcp-colorsx
  .ldcp-color
    margin: 0
    border-radius: 0
  .ldcp-color:last-of-type
    margin-right: gap
    border-radius: 0 3px 3px 0
  .ldcp-color:first-of-type
    border-radius: 3px 0 0 3px
  span:first-of-type
    margin-left: 0


.ldcp-wg3
  height: 20px
.ldcp-wg31
  width: 100%
  //background: #eee
  text-align: right
  input.hex, input
    height: 100%
    border-radius: 1px
    border: 1px solid #ccc
    font-size: 12px
    padding: 0
    vertical-align: top
    font-family: monospace
    width: 56px
    text-align: center
    margin-right: 0
  input
    width: 30px
    margin-left: -2px
    margin-right: 6px
    border-radius: 0 2px 2px 0
    box-shadow: inset 0 0 1px rgba(0,0,0,0.3)
  span
    background: #f9f9f9
    display: inline-block
    line-height: 18px
    padding: 0 2px
    border-radius: 2px 0 0 2px
    height: 100%
    vertical-align: top
    font-size: 12px
    margin-right: 0
    border: 1px solid #ccc

.ldColorPicker.custom
  width: 240px
  height: 160px
